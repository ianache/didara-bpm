<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field" default-cascade="all" 
                   package="com.bpm4sb.identity.domain.model">
  <class lazy="true" name="IdentityEntity" table="ORGENTITY">
      <id name="id" type="java.lang.String" column="ID"/> 
      <joined-subclass name="User" table="USERENTITY">
          <key column="ID"/>
          <property name="login" column="LOGIN"/>
          <property name="fullName" column="FULLNAME"/>
          <property name="active" column="ACTIVE"/>
          <property name="password" column="PASSWORD"/>
          <property name="email" column="EMAIL"/>
      </joined-subclass>
      <joined-subclass name="Group" table="GROUPENTITY">
          <key column="ID"/>
          <property name="name" column="SNAME"/>
          <property name="description" column="DESCRIPTION"/>
          <many-to-one name="parentGroup" column="PARENT_ID" class="Group" />
          <set name="childGroups" access="property">
              <key column="PARENT_ID"/>
              <one-to-many class="Group" not-found="ignore"/>
          </set>
      </joined-subclass>
  </class>
</hibernate-mapping>
